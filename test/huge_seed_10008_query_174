#!/bin/bash

set -e

cd "$(dirname "$0")"

time taskset -c 0-15 ../run.sh \
    ../data/customer.txt ../data/orders.txt ../data/lineitem.txt \
    174 \
    HOUSEHOLD  1999-01-11 1992-09-05 48610 \
    MACHINERY  1990-11-18 1990-08-23 88114 \
    BUILDING   1992-12-17 1991-11-27 15667 \
    MACHINERY  1999-09-25 1994-07-25 30487 \
    FURNITURE  1990-06-06 1990-03-31 50964 \
    AUTOMOBILE 1991-06-02 1991-01-17 30921 \
    MACHINERY  1993-10-16 1992-08-09 23147 \
    AUTOMOBILE 1997-07-31 1997-07-25 31028 \
    FURNITURE  1995-04-23 1994-02-24 50478 \
    AUTOMOBILE 1993-05-13 1990-10-28 76290 \
    AUTOMOBILE 1998-02-13 1995-04-14 10573 \
    AUTOMOBILE 1995-10-22 1990-12-01 57073 \
    MACHINERY  1998-03-07 1990-06-08 20784 \
    FURNITURE  1990-05-27 1990-01-19 27816 \
    AUTOMOBILE 1998-10-21 1992-01-05 92695 \
    BUILDING   1992-11-10 1990-04-20 27986 \
    HOUSEHOLD  1991-11-02 1990-09-29 94251 \
    AUTOMOBILE 1993-07-24 1991-08-17 32427 \
    HOUSEHOLD  1995-03-29 1991-11-17 48877 \
    FURNITURE  1995-05-19 1993-07-03 87070 \
    MACHINERY  1999-04-08 1991-11-12 68184 \
    HOUSEHOLD  1994-05-19 1990-06-29 28357 \
    BUILDING   1992-05-11 1990-06-09 31836 \
    BUILDING   1995-03-30 1994-01-27 67401 \
    AUTOMOBILE 1991-08-03 1990-08-15 96236 \
    MACHINERY  1991-10-14 1990-12-25 86380 \
    AUTOMOBILE 1994-03-19 1992-10-11 63776 \
    MACHINERY  1990-07-15 1990-07-02 74326 \
    AUTOMOBILE 1990-10-05 1990-01-05 34455 \
    HOUSEHOLD  1993-08-06 1992-04-11 93888 \
    MACHINERY  1993-06-01 1993-01-29 92398 \
    BUILDING   1993-09-27 1991-09-14 64035 \
    AUTOMOBILE 1999-09-12 1992-07-30 89107 \
    FURNITURE  1999-06-08 1996-05-28 81361 \
    FURNITURE  1991-08-18 1991-02-20 32515 \
    BUILDING   1995-07-04 1995-06-19 27347 \
    MACHINERY  1997-07-14 1995-01-11 19620 \
    AUTOMOBILE 1991-03-15 1990-01-05 48033 \
    FURNITURE  1995-06-09 1994-01-28 31563 \
    AUTOMOBILE 1991-04-30 1990-01-04 57088 \
    AUTOMOBILE 1991-09-04 1990-08-10 62793 \
    MACHINERY  1995-03-17 1990-09-19 67425 \
    AUTOMOBILE 1998-04-28 1993-09-27 40279 \
    AUTOMOBILE 1998-12-01 1994-08-28 61880 \
    AUTOMOBILE 1997-02-21 1991-08-05 26818 \
    BUILDING   1998-11-21 1990-06-05 66316 \
    FURNITURE  1998-11-16 1994-11-14 83194 \
    FURNITURE  1996-11-13 1996-09-06 16884 \
    FURNITURE  1995-10-27 1993-05-04 11741 \
    BUILDING   1993-07-05 1991-09-07 29749 \
    BUILDING   1996-05-23 1992-10-23 40143 \
    MACHINERY  1990-09-16 1990-03-07 47576 \
    FURNITURE  1994-11-15 1992-10-07 12592 \
    BUILDING   1996-10-31 1996-09-22 32563 \
    BUILDING   1994-02-26 1992-06-26 54067 \
    BUILDING   1996-10-10 1992-12-12 21991 \
    MACHINERY  1999-12-17 1995-06-24 64058 \
    MACHINERY  1992-06-11 1992-03-02 35864 \
    FURNITURE  1994-09-01 1990-10-03 46892 \
    AUTOMOBILE 1997-08-25 1996-09-21 97798 \
    BUILDING   1999-10-19 1998-05-08 96422 \
    MACHINERY  1996-08-23 1995-08-04 77165 \
    MACHINERY  1998-01-21 1994-10-29 27669 \
    MACHINERY  1996-08-30 1992-01-22 72599 \
    BUILDING   1998-09-19 1992-10-28 54498 \
    MACHINERY  1996-02-12 1991-07-09 86676 \
    HOUSEHOLD  1993-12-17 1990-11-05 72262 \
    AUTOMOBILE 1992-02-04 1991-01-26 53157 \
    AUTOMOBILE 1994-07-13 1993-08-03 36287 \
    MACHINERY  1990-01-18 1990-01-17 91427 \
    HOUSEHOLD  1991-04-13 1990-12-22 39921 \
    AUTOMOBILE 1995-07-23 1995-07-13 63731 \
    HOUSEHOLD  1998-03-28 1991-12-07 91222 \
    BUILDING   1999-04-27 1999-02-17 37179 \
    HOUSEHOLD  1995-07-01 1992-10-30 80484 \
    AUTOMOBILE 1993-06-09 1992-04-16 42582 \
    HOUSEHOLD  1998-03-30 1993-05-03 50210 \
    BUILDING   1994-12-06 1994-08-31 63776 \
    MACHINERY  1998-01-16 1996-11-14 76621 \
    HOUSEHOLD  1991-01-10 1990-04-14 41612 \
    BUILDING   1993-07-28 1991-04-26 24310 \
    AUTOMOBILE 1990-07-23 1990-05-02 65508 \
    FURNITURE  1994-09-07 1990-08-03 35872 \
    MACHINERY  1992-12-11 1990-03-28 25323 \
    AUTOMOBILE 1996-12-22 1991-08-30 57881 \
    AUTOMOBILE 1998-01-19 1991-02-08 44028 \
    FURNITURE  1998-03-26 1996-01-02 84459 \
    AUTOMOBILE 1999-10-09 1993-05-29 46317 \
    HOUSEHOLD  1991-09-15 1990-03-03 92609 \
    AUTOMOBILE 1991-01-18 1990-11-23 33437 \
    FURNITURE  1998-06-08 1996-01-11 84073 \
    BUILDING   1999-05-25 1999-01-11 86224 \
    BUILDING   1995-08-03 1994-05-02 48502 \
    BUILDING   1991-02-03 1990-07-23 74298 \
    FURNITURE  1999-09-18 1996-06-12 44130 \
    HOUSEHOLD  1995-08-10 1994-02-26 18534 \
    FURNITURE  1997-12-04 1991-01-03 88874 \
    FURNITURE  1991-04-29 1990-03-29 26127 \
    BUILDING   1996-10-23 1993-06-13 82404 \
    FURNITURE  1999-12-25 1991-01-18 76771 \
    MACHINERY  1994-01-03 1990-03-03 32751 \
    BUILDING   1990-08-26 1990-06-29 32927 \
    HOUSEHOLD  1991-04-12 1990-06-10 67091 \
    AUTOMOBILE 1994-07-05 1993-05-25 52519 \
    FURNITURE  1994-01-19 1991-07-13 17062 \
    HOUSEHOLD  1991-09-22 1991-01-03 45818 \
    FURNITURE  1993-12-30 1991-11-27 97248 \
    MACHINERY  1993-03-09 1992-03-13 52838 \
    FURNITURE  1992-08-07 1991-07-30 14280 \
    HOUSEHOLD  1997-04-08 1996-04-14 89228 \
    AUTOMOBILE 1992-10-23 1991-01-20 18540 \
    BUILDING   1998-01-04 1994-03-17 70246 \
    BUILDING   1993-08-07 1993-06-10 78936 \
    FURNITURE  1993-04-08 1991-10-15 15417 \
    MACHINERY  1995-08-30 1992-07-02 12549 \
    BUILDING   1995-12-19 1992-10-13 85849 \
    AUTOMOBILE 1999-02-27 1990-12-05 62063 \
    MACHINERY  1992-07-12 1990-12-01 83212 \
    HOUSEHOLD  1992-03-27 1990-09-18 93324 \
    AUTOMOBILE 1990-07-04 1990-06-07 93361 \
    BUILDING   1998-11-26 1998-08-30 57436 \
    AUTOMOBILE 1996-03-28 1991-02-27 76434 \
    FURNITURE  1993-06-16 1990-07-10 59418 \
    MACHINERY  1992-05-29 1992-03-07 56490 \
    MACHINERY  1990-06-01 1990-05-23 22141 \
    MACHINERY  1998-01-27 1994-08-06 71413 \
    AUTOMOBILE 1990-10-16 1990-07-27 64527 \
    HOUSEHOLD  1998-12-01 1993-08-06 73423 \
    AUTOMOBILE 1990-09-17 1990-01-16 17381 \
    AUTOMOBILE 1996-12-17 1992-04-20 33824 \
    AUTOMOBILE 1995-05-19 1990-04-16 16989 \
    MACHINERY  1996-06-18 1990-03-13 92664 \
    HOUSEHOLD  1996-06-22 1992-11-02 46584 \
    MACHINERY  1999-10-01 1995-03-27 23187 \
    FURNITURE  1992-10-11 1991-02-05 84746 \
    FURNITURE  1992-10-31 1990-03-03 26262 \
    FURNITURE  1993-12-12 1991-04-30 43162 \
    BUILDING   1997-11-21 1991-08-27 49079 \
    FURNITURE  1991-08-11 1991-06-11 73432 \
    BUILDING   1996-10-27 1993-08-27 69437 \
    HOUSEHOLD  1990-02-26 1990-01-26 30213 \
    FURNITURE  1993-11-26 1991-06-20 72775 \
    AUTOMOBILE 1990-03-11 1990-02-20 55785 \
    HOUSEHOLD  1997-06-08 1996-10-03 62280 \
    BUILDING   1999-11-10 1996-04-12 98902 \
    MACHINERY  1990-11-20 1990-07-12 70793 \
    BUILDING   1992-09-27 1991-05-01 66144 \
    AUTOMOBILE 1994-11-16 1990-02-10 21339 \
    HOUSEHOLD  1994-02-07 1991-09-26 91995 \
    FURNITURE  1993-12-24 1992-10-21 45895 \
    MACHINERY  1998-12-24 1994-11-26 55575 \
    MACHINERY  1992-11-26 1992-04-18 56719 \
    FURNITURE  1996-12-19 1990-04-30 57717 \
    HOUSEHOLD  1994-05-24 1993-08-16 50706 \
    BUILDING   1991-10-19 1990-01-02 51517 \
    BUILDING   1992-05-30 1991-02-13 63859 \
    BUILDING   1997-08-19 1996-02-24 13075 \
    HOUSEHOLD  1994-05-11 1990-05-31 94461 \
    AUTOMOBILE 1997-06-05 1996-11-04 38138 \
    BUILDING   1996-02-04 1991-10-10 17123 \
    MACHINERY  1996-10-19 1994-03-15 75627 \
    FURNITURE  1995-05-19 1991-09-20 55956 \
    MACHINERY  1996-06-12 1993-05-15 37715 \
    MACHINERY  1992-07-24 1990-12-15 35440 \
    FURNITURE  1996-03-02 1994-12-11 51532 \
    BUILDING   1995-02-26 1991-03-07 17458 \
    FURNITURE  1999-01-31 1995-08-14 30722 \
    BUILDING   1999-07-23 1990-04-02 55506 \
    FURNITURE  1990-11-21 1990-08-03 26693 \
    FURNITURE  1992-08-14 1991-03-30 69198 \
    BUILDING   1997-11-11 1996-11-27 49280 \
    FURNITURE  1991-12-19 1990-09-15 54682 \
    HOUSEHOLD  1993-04-28 1991-03-16 61440 \
    FURNITURE  1994-11-15 1991-07-19 59409 \
    \
    >"$(basename "$0").stdout"

if [ -z "$BDCI19_SKIP_DIFF" ]; then
    echo
    diff "$(basename "$0").stdout" "$(basename "$0").result"
fi

