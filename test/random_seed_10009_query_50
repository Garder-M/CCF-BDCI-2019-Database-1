#!/bin/bash

set -e

cd "$(dirname "$0")"

time taskset -c 0-15 ../run.sh \
    ../data/customer.txt ../data/orders.txt ../data/lineitem.txt \
    50 \
    BUILDING   1993-06-12 1990-05-14 8150 \
    HOUSEHOLD  1999-06-11 1994-06-28 4863 \
    MACHINERY  1999-08-19 1992-08-22 1430 \
    HOUSEHOLD  1999-02-14 1994-12-21 4000 \
    BUILDING   1996-05-23 1993-02-04 7468 \
    MACHINERY  1996-11-21 1991-02-08 9162 \
    HOUSEHOLD  1990-01-18 1990-01-10 7137 \
    FURNITURE  1990-03-04 1990-03-01 148 \
    BUILDING   1995-03-07 1992-12-18 7816 \
    HOUSEHOLD  1993-03-02 1991-01-28 8669 \
    HOUSEHOLD  1999-01-09 1996-09-03 4644 \
    MACHINERY  1991-12-16 1990-12-29 2805 \
    MACHINERY  1993-02-06 1991-04-01 2356 \
    AUTOMOBILE 1992-07-22 1991-02-23 5277 \
    HOUSEHOLD  1999-08-28 1994-10-18 4624 \
    HOUSEHOLD  1993-12-30 1991-07-30 3309 \
    HOUSEHOLD  1992-05-07 1991-03-04 2448 \
    BUILDING   1997-02-04 1991-09-05 7950 \
    FURNITURE  1991-05-24 1990-05-17 3494 \
    MACHINERY  1996-04-12 1994-07-18 1232 \
    FURNITURE  1995-01-08 1993-10-10 9922 \
    AUTOMOBILE 1997-01-07 1992-10-15 1191 \
    MACHINERY  1990-11-19 1990-08-01 4172 \
    HOUSEHOLD  1997-11-16 1991-06-13 7908 \
    HOUSEHOLD  1996-02-18 1994-09-17 821 \
    BUILDING   1995-06-03 1993-06-11 9809 \
    AUTOMOBILE 1995-03-19 1993-02-25 3351 \
    HOUSEHOLD  1994-10-26 1992-07-07 1634 \
    HOUSEHOLD  1994-03-06 1994-01-19 8642 \
    MACHINERY  1995-07-23 1992-07-06 6242 \
    FURNITURE  1990-02-12 1990-01-30 3980 \
    FURNITURE  1992-05-12 1991-08-10 3712 \
    AUTOMOBILE 1994-12-14 1990-01-12 983 \
    BUILDING   1994-05-14 1992-10-24 9091 \
    MACHINERY  1996-07-11 1996-02-11 6208 \
    BUILDING   1992-03-13 1991-07-10 8395 \
    AUTOMOBILE 1991-03-17 1991-01-31 6957 \
    AUTOMOBILE 1995-06-21 1995-04-07 4863 \
    BUILDING   1998-08-12 1992-06-01 8177 \
    HOUSEHOLD  1991-10-17 1991-06-06 7008 \
    HOUSEHOLD  1995-07-21 1990-12-04 1583 \
    HOUSEHOLD  1996-05-17 1995-06-27 5280 \
    AUTOMOBILE 1998-01-23 1995-12-14 5806 \
    HOUSEHOLD  1996-02-18 1994-06-10 8896 \
    MACHINERY  1997-11-06 1991-03-22 2477 \
    AUTOMOBILE 1992-01-21 1991-06-20 1318 \
    BUILDING   1999-02-01 1992-07-28 2841 \
    BUILDING   1998-03-02 1990-04-07 314 \
    BUILDING   1998-01-16 1990-09-23 7515 \
    BUILDING   1992-10-27 1991-08-12 7182 \
    \
    >"$(basename "$0").stdout"

if [ -z "$BDCI19_SKIP_DIFF" ]; then
    echo
    diff "$(basename "$0").stdout" "$(basename "$0").result"
fi

