#!/bin/bash

set -e

cd "$(dirname "$0")"

time taskset -c 0-15 ../run.sh \
    ../data/customer.txt ../data/orders.txt ../data/lineitem.txt \
    203 \
    AUTOMOBILE 1994-03-19 1991-10-10 49835 \
    HOUSEHOLD  1999-05-27 1994-07-02 62656 \
    MACHINERY  1990-12-30 1990-11-14 97021 \
    AUTOMOBILE 1999-12-02 1999-09-17 25998 \
    FURNITURE  1997-04-26 1994-06-18 67403 \
    FURNITURE  1995-03-14 1994-10-31 33771 \
    BUILDING   1990-09-05 1990-07-06 22339 \
    AUTOMOBILE 1999-07-13 1990-09-07 65855 \
    FURNITURE  1997-09-16 1991-07-04 99091 \
    HOUSEHOLD  1994-06-29 1992-12-19 25601 \
    HOUSEHOLD  1993-01-28 1992-04-16 29153 \
    MACHINERY  1993-10-10 1990-05-06 89122 \
    AUTOMOBILE 1993-03-20 1990-04-19 41455 \
    BUILDING   1998-01-28 1993-04-16 96608 \
    MACHINERY  1993-03-09 1992-08-17 21821 \
    MACHINERY  1993-11-14 1991-04-06 67286 \
    BUILDING   1998-08-03 1990-04-30 19555 \
    AUTOMOBILE 1996-10-16 1990-08-17 73728 \
    BUILDING   1999-01-18 1997-12-05 82732 \
    AUTOMOBILE 1990-12-25 1990-10-30 78674 \
    FURNITURE  1991-02-12 1990-07-27 18575 \
    BUILDING   1999-11-03 1997-01-29 69048 \
    MACHINERY  1996-07-14 1991-10-16 94526 \
    FURNITURE  1993-02-26 1992-11-15 44373 \
    FURNITURE  1995-04-11 1994-10-20 54336 \
    MACHINERY  1993-05-05 1990-11-18 77385 \
    HOUSEHOLD  1996-09-02 1991-03-08 92875 \
    HOUSEHOLD  1997-01-20 1995-08-19 54002 \
    HOUSEHOLD  1994-10-19 1991-08-09 23224 \
    HOUSEHOLD  1994-10-08 1991-08-13 91451 \
    BUILDING   1995-11-24 1994-06-08 70507 \
    BUILDING   1994-06-01 1990-02-22 97455 \
    AUTOMOBILE 1993-04-12 1991-05-14 93871 \
    MACHINERY  1992-10-22 1992-02-11 45542 \
    MACHINERY  1997-08-08 1996-09-07 51746 \
    AUTOMOBILE 1993-12-24 1992-08-11 47376 \
    HOUSEHOLD  1995-03-05 1990-12-18 64880 \
    HOUSEHOLD  1996-12-30 1990-08-17 19146 \
    AUTOMOBILE 1993-01-09 1991-10-01 78813 \
    FURNITURE  1997-06-08 1996-09-02 53578 \
    BUILDING   1996-06-21 1990-06-06 74327 \
    BUILDING   1994-02-26 1990-07-29 62877 \
    MACHINERY  1991-06-04 1990-08-13 62609 \
    MACHINERY  1997-03-20 1991-06-01 28751 \
    HOUSEHOLD  1997-08-29 1992-08-21 20477 \
    MACHINERY  1996-02-17 1993-10-31 99175 \
    HOUSEHOLD  1997-06-03 1994-11-29 96085 \
    MACHINERY  1999-03-10 1997-02-25 10467 \
    AUTOMOBILE 1991-02-07 1990-08-30 27305 \
    MACHINERY  1998-03-11 1992-06-26 34892 \
    BUILDING   1998-12-27 1998-09-15 81267 \
    HOUSEHOLD  1992-02-17 1991-03-15 46342 \
    HOUSEHOLD  1998-02-17 1997-05-28 97605 \
    AUTOMOBILE 1997-11-26 1993-12-12 59973 \
    BUILDING   1995-08-11 1994-05-09 80861 \
    BUILDING   1996-02-24 1992-12-26 99516 \
    MACHINERY  1991-12-26 1991-09-21 31207 \
    FURNITURE  1991-02-10 1990-05-26 67841 \
    FURNITURE  1997-01-25 1993-12-16 88046 \
    FURNITURE  1992-03-02 1991-09-06 26316 \
    FURNITURE  1991-10-20 1990-10-21 53775 \
    FURNITURE  1995-02-15 1990-04-27 60833 \
    BUILDING   1997-09-23 1996-03-27 88959 \
    AUTOMOBILE 1993-08-11 1991-03-01 29229 \
    BUILDING   1992-10-24 1990-09-13 34924 \
    BUILDING   1998-03-11 1996-09-02 52547 \
    BUILDING   1990-06-18 1990-04-01 61092 \
    HOUSEHOLD  1991-12-25 1991-04-21 95681 \
    AUTOMOBILE 1999-11-03 1992-04-22 59707 \
    BUILDING   1990-01-24 1990-01-02 63579 \
    HOUSEHOLD  1995-11-25 1993-03-10 67651 \
    MACHINERY  1998-07-13 1991-09-24 87900 \
    FURNITURE  1999-07-20 1991-03-01 84135 \
    BUILDING   1998-04-06 1995-05-28 21852 \
    HOUSEHOLD  1998-03-26 1997-09-30 84543 \
    AUTOMOBILE 1992-06-27 1990-08-18 34574 \
    FURNITURE  1995-03-17 1991-12-11 81726 \
    MACHINERY  1998-04-26 1993-04-09 89552 \
    AUTOMOBILE 1995-03-07 1993-01-13 10974 \
    BUILDING   1998-08-19 1992-06-09 62609 \
    HOUSEHOLD  1996-05-12 1991-03-18 76199 \
    MACHINERY  1991-03-19 1991-02-16 93673 \
    BUILDING   1994-06-21 1990-03-12 13895 \
    MACHINERY  1992-02-12 1991-04-23 17120 \
    FURNITURE  1994-12-28 1991-09-05 85598 \
    BUILDING   1995-07-02 1993-08-13 61646 \
    FURNITURE  1997-11-24 1992-11-26 71161 \
    BUILDING   1995-04-06 1994-04-10 46999 \
    MACHINERY  1993-11-26 1991-06-15 43726 \
    HOUSEHOLD  1994-12-27 1994-09-20 57601 \
    HOUSEHOLD  1997-04-08 1997-02-05 18618 \
    AUTOMOBILE 1999-05-17 1995-11-28 50778 \
    FURNITURE  1997-01-10 1994-09-08 63891 \
    AUTOMOBILE 1996-01-25 1994-09-21 57694 \
    BUILDING   1995-06-07 1992-09-24 28302 \
    MACHINERY  1990-04-22 1990-02-03 91814 \
    BUILDING   1993-06-23 1992-08-03 99637 \
    FURNITURE  1996-12-01 1994-04-11 71994 \
    AUTOMOBILE 1990-08-26 1990-04-09 57595 \
    MACHINERY  1991-09-06 1990-10-11 72400 \
    FURNITURE  1997-05-05 1992-04-24 66723 \
    FURNITURE  1991-09-18 1990-06-28 89610 \
    BUILDING   1990-04-09 1990-03-16 42920 \
    HOUSEHOLD  1992-11-01 1991-11-02 36198 \
    AUTOMOBILE 1995-08-24 1990-11-10 54156 \
    AUTOMOBILE 1996-03-20 1994-04-17 96495 \
    HOUSEHOLD  1995-06-01 1994-04-28 21062 \
    BUILDING   1996-01-16 1996-01-05 57846 \
    AUTOMOBILE 1991-04-22 1990-07-17 71522 \
    BUILDING   1996-05-05 1992-09-09 77614 \
    MACHINERY  1992-11-10 1990-05-19 55020 \
    BUILDING   1994-11-08 1991-12-21 55410 \
    AUTOMOBILE 1991-10-24 1990-12-19 67597 \
    AUTOMOBILE 1993-09-12 1993-07-22 60284 \
    AUTOMOBILE 1990-11-24 1990-05-07 57537 \
    MACHINERY  1995-12-03 1994-01-24 89673 \
    BUILDING   1999-03-12 1998-08-24 81839 \
    MACHINERY  1993-02-13 1992-11-30 80747 \
    FURNITURE  1991-10-07 1990-12-21 49122 \
    FURNITURE  1999-01-23 1995-11-29 90209 \
    FURNITURE  1995-08-20 1993-05-17 34697 \
    AUTOMOBILE 1991-05-17 1991-03-04 76033 \
    HOUSEHOLD  1999-01-27 1991-03-25 50200 \
    MACHINERY  1996-05-21 1990-01-22 76368 \
    BUILDING   1998-05-21 1992-12-03 58610 \
    BUILDING   1995-11-21 1993-03-15 13577 \
    BUILDING   1997-01-08 1992-07-23 77962 \
    HOUSEHOLD  1999-11-15 1991-08-21 58793 \
    BUILDING   1996-09-06 1991-10-10 28648 \
    MACHINERY  1996-08-18 1994-05-19 15795 \
    BUILDING   1996-09-18 1992-01-14 70687 \
    HOUSEHOLD  1993-11-09 1992-07-09 84676 \
    BUILDING   1993-06-29 1991-07-03 14810 \
    BUILDING   1998-12-25 1995-12-04 83378 \
    BUILDING   1992-05-03 1992-04-08 21178 \
    BUILDING   1992-11-11 1990-04-23 17861 \
    MACHINERY  1995-11-16 1991-04-03 80726 \
    MACHINERY  1990-12-20 1990-07-14 19606 \
    MACHINERY  1996-11-19 1992-10-23 29576 \
    FURNITURE  1993-11-19 1993-06-13 74713 \
    MACHINERY  1994-04-05 1993-09-01 22495 \
    AUTOMOBILE 1994-01-21 1993-12-06 51939 \
    AUTOMOBILE 1997-07-27 1991-07-09 31360 \
    HOUSEHOLD  1992-10-06 1992-01-28 85902 \
    HOUSEHOLD  1994-04-10 1990-05-21 70137 \
    HOUSEHOLD  1993-10-26 1991-07-31 28578 \
    BUILDING   1993-12-11 1990-07-15 50957 \
    FURNITURE  1992-03-15 1991-08-19 31348 \
    MACHINERY  1990-03-21 1990-02-01 45942 \
    AUTOMOBILE 1993-03-08 1992-07-14 59883 \
    FURNITURE  1994-04-12 1994-01-25 45245 \
    MACHINERY  1996-10-28 1994-10-06 25113 \
    HOUSEHOLD  1998-05-19 1990-03-20 36101 \
    HOUSEHOLD  1994-02-13 1992-04-22 97658 \
    HOUSEHOLD  1994-03-27 1991-03-07 20896 \
    HOUSEHOLD  1991-04-19 1990-07-06 79514 \
    HOUSEHOLD  1993-10-06 1991-01-20 62476 \
    BUILDING   1996-04-18 1991-01-25 18250 \
    FURNITURE  1994-11-22 1991-11-17 10165 \
    BUILDING   1991-02-28 1990-10-04 50984 \
    BUILDING   1992-03-16 1991-12-24 85073 \
    HOUSEHOLD  1998-07-19 1993-03-25 32961 \
    BUILDING   1992-05-24 1991-04-27 76691 \
    FURNITURE  1999-04-01 1992-07-27 58898 \
    HOUSEHOLD  1997-04-29 1995-09-13 42104 \
    FURNITURE  1997-09-20 1994-06-04 53881 \
    HOUSEHOLD  1996-01-26 1995-04-14 89765 \
    BUILDING   1990-06-08 1990-01-27 12357 \
    FURNITURE  1991-10-19 1990-06-22 66192 \
    AUTOMOBILE 1999-12-08 1990-08-23 44716 \
    BUILDING   1992-11-13 1992-10-19 45303 \
    MACHINERY  1996-05-11 1993-01-03 58007 \
    BUILDING   1990-08-28 1990-05-26 62081 \
    AUTOMOBILE 1991-04-27 1990-12-26 14002 \
    FURNITURE  1991-04-16 1990-03-23 20840 \
    BUILDING   1997-01-17 1991-07-09 21047 \
    MACHINERY  1992-03-31 1990-06-13 63184 \
    AUTOMOBILE 1990-07-10 1990-01-27 84531 \
    BUILDING   1993-03-20 1990-09-05 90838 \
    HOUSEHOLD  1990-06-21 1990-03-04 97130 \
    HOUSEHOLD  1990-06-11 1990-03-03 15146 \
    BUILDING   1997-02-02 1996-08-17 55916 \
    HOUSEHOLD  1998-07-20 1995-11-14 29299 \
    HOUSEHOLD  1994-06-24 1993-05-02 65520 \
    BUILDING   1991-07-12 1990-12-01 63781 \
    MACHINERY  1992-10-11 1992-05-22 64664 \
    AUTOMOBILE 1992-05-17 1990-01-24 82389 \
    BUILDING   1990-03-29 1990-01-30 64009 \
    HOUSEHOLD  1990-07-07 1990-04-11 15680 \
    HOUSEHOLD  1997-01-13 1996-07-28 36911 \
    AUTOMOBILE 1994-02-23 1991-01-13 55210 \
    BUILDING   1999-05-28 1995-07-11 30523 \
    FURNITURE  1999-04-26 1994-01-11 88848 \
    AUTOMOBILE 1999-01-17 1993-12-24 62865 \
    BUILDING   1992-05-10 1990-07-19 36603 \
    AUTOMOBILE 1995-07-17 1993-10-12 62127 \
    HOUSEHOLD  1996-03-28 1990-12-22 19063 \
    BUILDING   1991-06-20 1991-02-05 50709 \
    FURNITURE  1990-09-18 1990-02-15 83275 \
    MACHINERY  1995-10-13 1990-05-08 67099 \
    BUILDING   1991-09-10 1991-01-08 94610 \
    BUILDING   1990-12-25 1990-03-09 50056 \
    AUTOMOBILE 1997-03-28 1995-12-05 82916 \
    \
    >"$(basename "$0").stdout"

if [ -z "$BDCI19_SKIP_DIFF" ]; then
    echo
    diff "$(basename "$0").stdout" "$(basename "$0").result"
fi

