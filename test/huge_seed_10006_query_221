#!/bin/bash

set -e

cd "$(dirname "$0")"

time taskset -c 0-15 ../run.sh \
    ../data/customer.txt ../data/orders.txt ../data/lineitem.txt \
    221 \
    AUTOMOBILE 1991-09-17 1991-05-14 91821 \
    MACHINERY  1991-07-25 1990-02-26 10005 \
    FURNITURE  1994-02-11 1993-06-06 26465 \
    FURNITURE  1991-08-02 1990-12-26 16597 \
    BUILDING   1998-12-31 1991-07-02 20421 \
    MACHINERY  1993-01-06 1991-01-31 90790 \
    MACHINERY  1995-07-01 1995-03-30 80088 \
    MACHINERY  1991-09-19 1991-01-15 61443 \
    MACHINERY  1995-04-15 1990-08-26 96542 \
    HOUSEHOLD  1998-09-28 1997-03-20 88619 \
    MACHINERY  1998-06-01 1997-05-27 25947 \
    HOUSEHOLD  1995-03-09 1994-02-06 29546 \
    BUILDING   1995-09-05 1995-03-17 64070 \
    HOUSEHOLD  1994-04-07 1992-04-02 10763 \
    HOUSEHOLD  1990-09-26 1990-06-16 92226 \
    MACHINERY  1998-04-25 1990-07-02 44478 \
    HOUSEHOLD  1994-08-01 1993-09-24 80743 \
    MACHINERY  1994-12-13 1992-08-12 55159 \
    MACHINERY  1994-03-21 1990-03-17 96829 \
    HOUSEHOLD  1991-09-29 1991-03-09 19380 \
    MACHINERY  1995-01-19 1994-11-06 71595 \
    AUTOMOBILE 1996-03-10 1992-03-07 17486 \
    FURNITURE  1994-11-13 1994-09-10 78733 \
    MACHINERY  1995-06-13 1990-05-07 30811 \
    FURNITURE  1995-10-31 1991-02-09 10906 \
    HOUSEHOLD  1997-05-16 1997-04-27 82442 \
    MACHINERY  1991-06-23 1991-02-22 41298 \
    AUTOMOBILE 1992-02-16 1991-03-01 50652 \
    MACHINERY  1999-09-27 1993-09-18 59421 \
    AUTOMOBILE 1996-03-14 1994-01-30 60052 \
    MACHINERY  1993-09-24 1992-05-14 68522 \
    AUTOMOBILE 1994-11-29 1993-03-06 78355 \
    AUTOMOBILE 1997-10-31 1991-06-20 20804 \
    AUTOMOBILE 1995-08-26 1991-04-10 28801 \
    MACHINERY  1992-01-29 1991-10-31 77295 \
    FURNITURE  1998-04-01 1994-05-15 98301 \
    MACHINERY  1996-03-01 1992-12-25 27945 \
    MACHINERY  1990-01-29 1990-01-20 72634 \
    HOUSEHOLD  1996-09-05 1993-03-22 60328 \
    BUILDING   1996-09-19 1996-08-09 11756 \
    BUILDING   1999-08-08 1996-11-22 74081 \
    AUTOMOBILE 1995-05-27 1994-02-18 91863 \
    BUILDING   1999-12-16 1992-02-26 46382 \
    FURNITURE  1993-09-04 1993-01-11 15879 \
    BUILDING   1998-03-20 1994-10-01 82205 \
    FURNITURE  1999-12-20 1990-03-04 72793 \
    MACHINERY  1990-06-10 1990-04-25 51344 \
    HOUSEHOLD  1994-10-16 1994-04-09 20079 \
    AUTOMOBILE 1999-05-28 1997-05-22 48543 \
    MACHINERY  1994-09-05 1990-01-04 56159 \
    HOUSEHOLD  1994-09-28 1991-02-02 12182 \
    AUTOMOBILE 1996-09-23 1993-05-31 90538 \
    BUILDING   1990-08-01 1990-05-25 18802 \
    BUILDING   1992-03-04 1990-04-13 18909 \
    AUTOMOBILE 1997-01-15 1993-03-26 16107 \
    FURNITURE  1993-02-23 1990-06-19 63444 \
    MACHINERY  1997-10-05 1991-10-26 49973 \
    AUTOMOBILE 1997-10-28 1994-07-10 51957 \
    FURNITURE  1999-12-30 1992-06-02 77999 \
    BUILDING   1996-05-12 1991-07-23 89532 \
    AUTOMOBILE 1999-02-20 1996-01-04 72010 \
    HOUSEHOLD  1990-02-13 1990-01-21 31260 \
    BUILDING   1993-06-06 1992-12-29 89398 \
    HOUSEHOLD  1996-11-16 1992-01-03 70595 \
    FURNITURE  1990-06-23 1990-05-09 20463 \
    MACHINERY  1993-04-10 1993-01-15 17393 \
    FURNITURE  1991-05-24 1990-01-09 55495 \
    HOUSEHOLD  1994-11-29 1991-03-01 23642 \
    FURNITURE  1996-12-29 1992-04-23 45905 \
    HOUSEHOLD  1993-03-26 1991-02-27 66746 \
    BUILDING   1998-11-01 1990-03-02 36535 \
    MACHINERY  1996-03-08 1994-05-24 10197 \
    AUTOMOBILE 1995-03-20 1992-05-30 89611 \
    AUTOMOBILE 1991-09-10 1990-12-28 52860 \
    BUILDING   1999-07-23 1999-01-22 45685 \
    AUTOMOBILE 1997-10-11 1996-05-02 94913 \
    AUTOMOBILE 1990-04-07 1990-01-19 95255 \
    BUILDING   1998-12-13 1994-12-13 98534 \
    BUILDING   1992-07-25 1991-08-10 41188 \
    HOUSEHOLD  1991-11-14 1991-06-24 65767 \
    MACHINERY  1991-07-12 1990-07-15 98311 \
    AUTOMOBILE 1992-04-24 1991-09-27 49353 \
    FURNITURE  1994-05-13 1990-08-12 47632 \
    AUTOMOBILE 1999-07-27 1998-12-21 81410 \
    BUILDING   1998-12-04 1990-09-10 52517 \
    BUILDING   1998-12-06 1994-07-15 39247 \
    AUTOMOBILE 1993-07-27 1992-08-30 30870 \
    AUTOMOBILE 1996-10-01 1990-12-23 10224 \
    MACHINERY  1990-12-09 1990-03-10 83650 \
    HOUSEHOLD  1993-03-23 1992-11-18 22373 \
    BUILDING   1993-01-16 1991-08-28 25495 \
    MACHINERY  1995-02-06 1993-01-06 17168 \
    MACHINERY  1990-01-28 1990-01-10 43735 \
    FURNITURE  1994-12-13 1992-05-31 98716 \
    AUTOMOBILE 1996-12-08 1995-07-21 57756 \
    AUTOMOBILE 1998-02-21 1996-07-30 51890 \
    MACHINERY  1992-07-26 1991-11-16 63571 \
    BUILDING   1991-04-13 1990-08-24 29840 \
    BUILDING   1994-04-26 1990-11-10 13656 \
    MACHINERY  1997-06-02 1991-04-10 31002 \
    HOUSEHOLD  1993-11-30 1990-12-14 24133 \
    BUILDING   1997-10-12 1996-08-03 94115 \
    HOUSEHOLD  1999-12-31 1999-06-26 39163 \
    HOUSEHOLD  1992-06-12 1992-05-31 83543 \
    BUILDING   1999-01-24 1993-05-11 34799 \
    FURNITURE  1994-12-20 1994-06-08 26388 \
    BUILDING   1992-04-14 1990-12-29 20528 \
    MACHINERY  1990-12-18 1990-09-08 75900 \
    BUILDING   1994-06-14 1993-05-07 78239 \
    HOUSEHOLD  1999-08-28 1994-06-10 22624 \
    FURNITURE  1993-11-22 1993-02-22 83206 \
    BUILDING   1997-04-06 1995-09-18 21160 \
    BUILDING   1991-12-19 1990-11-19 41686 \
    BUILDING   1999-01-31 1990-07-04 25215 \
    FURNITURE  1990-02-02 1990-01-16 70772 \
    BUILDING   1992-06-04 1992-06-01 92558 \
    HOUSEHOLD  1998-12-11 1990-06-09 20997 \
    BUILDING   1995-01-18 1992-06-21 72979 \
    HOUSEHOLD  1994-11-18 1991-11-23 55144 \
    AUTOMOBILE 1999-11-07 1991-05-30 39807 \
    HOUSEHOLD  1991-10-16 1990-08-01 68075 \
    AUTOMOBILE 1994-11-20 1990-01-26 56030 \
    AUTOMOBILE 1993-01-21 1990-09-15 49176 \
    MACHINERY  1997-10-09 1997-02-02 48681 \
    HOUSEHOLD  1991-01-28 1991-01-22 67756 \
    AUTOMOBILE 1993-03-02 1990-02-13 33348 \
    FURNITURE  1992-12-29 1991-05-19 98128 \
    AUTOMOBILE 1995-06-23 1994-03-11 67916 \
    MACHINERY  1990-06-22 1990-04-10 68091 \
    AUTOMOBILE 1998-06-30 1996-05-03 99759 \
    HOUSEHOLD  1999-08-09 1991-02-17 72895 \
    AUTOMOBILE 1996-10-11 1992-05-30 75350 \
    AUTOMOBILE 1994-03-28 1991-11-02 25550 \
    MACHINERY  1993-05-12 1992-01-16 27650 \
    FURNITURE  1994-10-30 1993-01-30 54750 \
    FURNITURE  1992-12-15 1990-03-31 67159 \
    MACHINERY  1994-09-19 1993-03-03 90175 \
    HOUSEHOLD  1991-09-19 1991-01-27 19937 \
    BUILDING   1995-09-18 1992-12-18 38144 \
    AUTOMOBILE 1994-02-12 1993-04-30 29859 \
    MACHINERY  1999-08-13 1991-05-28 46808 \
    HOUSEHOLD  1999-12-31 1990-05-03 13750 \
    MACHINERY  1998-01-13 1997-02-15 47371 \
    AUTOMOBILE 1996-06-29 1995-01-14 38382 \
    BUILDING   1993-10-31 1990-02-21 54756 \
    MACHINERY  1995-01-16 1992-10-29 57603 \
    HOUSEHOLD  1995-07-24 1994-08-22 91321 \
    HOUSEHOLD  1996-10-02 1993-08-25 73254 \
    BUILDING   1993-07-19 1992-09-14 43439 \
    MACHINERY  1999-08-27 1998-03-15 25292 \
    HOUSEHOLD  1992-01-20 1991-12-08 73153 \
    HOUSEHOLD  1992-09-01 1992-06-23 27868 \
    AUTOMOBILE 1990-03-15 1990-01-23 66919 \
    MACHINERY  1998-10-02 1990-04-29 37112 \
    MACHINERY  1999-11-13 1997-11-25 80635 \
    FURNITURE  1991-08-18 1991-03-24 84391 \
    HOUSEHOLD  1996-02-16 1991-04-11 60052 \
    MACHINERY  1990-08-10 1990-06-21 73531 \
    MACHINERY  1996-09-01 1995-08-26 91315 \
    BUILDING   1994-01-18 1990-02-03 64565 \
    FURNITURE  1997-08-01 1991-10-06 51508 \
    FURNITURE  1999-10-13 1992-05-10 79727 \
    BUILDING   1999-07-16 1990-11-12 58733 \
    BUILDING   1990-06-24 1990-05-06 75215 \
    AUTOMOBILE 1991-04-04 1990-11-16 82074 \
    MACHINERY  1994-10-13 1990-06-19 78711 \
    MACHINERY  1995-10-28 1994-10-11 47500 \
    MACHINERY  1990-03-10 1990-02-15 15933 \
    FURNITURE  1994-06-01 1992-01-15 20854 \
    BUILDING   1999-05-07 1996-09-05 29390 \
    AUTOMOBILE 1997-05-18 1993-01-03 26203 \
    BUILDING   1994-12-23 1990-07-07 17211 \
    FURNITURE  1999-11-19 1992-07-23 40911 \
    HOUSEHOLD  1996-04-25 1991-08-26 10589 \
    HOUSEHOLD  1998-07-18 1996-01-24 25021 \
    BUILDING   1992-06-06 1992-04-11 57716 \
    MACHINERY  1998-01-17 1993-04-05 64494 \
    HOUSEHOLD  1990-04-21 1990-03-02 83841 \
    MACHINERY  1998-12-05 1995-07-30 62897 \
    HOUSEHOLD  1993-10-09 1990-07-10 70285 \
    HOUSEHOLD  1990-08-24 1990-05-04 70206 \
    BUILDING   1993-09-01 1991-03-30 32106 \
    FURNITURE  1998-04-14 1997-05-05 73756 \
    AUTOMOBILE 1996-09-08 1994-05-16 62652 \
    HOUSEHOLD  1998-09-28 1996-09-12 29862 \
    MACHINERY  1992-07-21 1991-05-04 76547 \
    FURNITURE  1998-11-10 1997-05-24 92187 \
    AUTOMOBILE 1995-06-28 1991-06-18 53182 \
    HOUSEHOLD  1993-12-29 1992-05-10 47130 \
    BUILDING   1997-06-12 1995-08-10 26538 \
    BUILDING   1996-07-04 1993-01-26 43425 \
    FURNITURE  1996-07-24 1992-07-21 75705 \
    MACHINERY  1999-11-16 1994-12-24 19155 \
    AUTOMOBILE 1999-08-03 1992-04-25 45938 \
    BUILDING   1997-02-27 1993-08-18 24659 \
    MACHINERY  1992-03-05 1990-02-12 26109 \
    FURNITURE  1996-02-21 1991-08-26 69403 \
    MACHINERY  1997-06-15 1995-10-16 24930 \
    HOUSEHOLD  1995-10-27 1994-09-11 37240 \
    MACHINERY  1997-10-13 1995-12-18 73036 \
    AUTOMOBILE 1998-08-26 1994-02-22 12006 \
    BUILDING   1993-01-10 1991-10-25 50125 \
    HOUSEHOLD  1996-09-09 1993-02-08 75831 \
    BUILDING   1994-08-23 1991-04-21 31435 \
    MACHINERY  1992-06-14 1990-06-01 86606 \
    AUTOMOBILE 1997-06-02 1991-05-28 30507 \
    FURNITURE  1990-04-01 1990-01-16 70018 \
    FURNITURE  1997-08-24 1991-05-05 13718 \
    MACHINERY  1992-05-26 1992-05-08 48695 \
    MACHINERY  1992-10-20 1991-11-26 47103 \
    AUTOMOBILE 1998-06-16 1998-01-22 36976 \
    BUILDING   1996-02-18 1995-01-28 56430 \
    FURNITURE  1995-08-13 1993-04-09 61151 \
    HOUSEHOLD  1998-09-07 1996-04-07 69168 \
    BUILDING   1992-07-25 1990-04-09 37894 \
    FURNITURE  1991-09-28 1990-01-07 74195 \
    BUILDING   1997-11-02 1992-06-15 24741 \
    AUTOMOBILE 1997-06-22 1996-12-22 67645 \
    MACHINERY  1994-03-03 1991-03-25 24634 \
    AUTOMOBILE 1993-06-18 1991-07-19 34339 \
    BUILDING   1993-12-14 1992-09-07 49252 \
    \
    >"$(basename "$0").stdout"

if [ -z "$BDCI19_SKIP_DIFF" ]; then
    echo
    diff "$(basename "$0").stdout" "$(basename "$0").result"
fi

