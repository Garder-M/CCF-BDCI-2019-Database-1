#!/bin/bash

set -e

cd "$(dirname "$0")"

time taskset -c 0-15 ../run.sh \
    ../data/customer.txt ../data/orders.txt ../data/lineitem.txt \
    77 \
    BUILDING   1991-06-26 1991-02-26 3255 \
    AUTOMOBILE 1990-12-18 1990-10-27 5379 \
    FURNITURE  1993-10-27 1991-07-17 1163 \
    AUTOMOBILE 1990-10-25 1990-01-16 2898 \
    HOUSEHOLD  1992-10-26 1991-05-24 444 \
    HOUSEHOLD  1991-11-22 1990-04-20 3889 \
    HOUSEHOLD  1990-11-20 1990-04-18 8396 \
    FURNITURE  1991-08-13 1990-08-11 9210 \
    BUILDING   1990-03-07 1990-01-08 9217 \
    AUTOMOBILE 1996-10-26 1994-12-14 939 \
    HOUSEHOLD  1999-11-14 1991-11-09 2818 \
    BUILDING   1990-10-28 1990-08-04 4465 \
    HOUSEHOLD  1998-02-12 1996-08-16 9647 \
    HOUSEHOLD  1993-10-03 1992-03-05 5586 \
    HOUSEHOLD  1996-03-21 1993-02-26 132 \
    HOUSEHOLD  1994-09-13 1990-05-13 5483 \
    FURNITURE  1995-01-07 1992-01-18 3287 \
    AUTOMOBILE 1993-07-13 1991-12-23 8007 \
    HOUSEHOLD  1994-04-07 1991-01-09 9883 \
    AUTOMOBILE 1997-01-02 1995-09-02 545 \
    HOUSEHOLD  1993-08-27 1992-11-04 8771 \
    AUTOMOBILE 1996-03-16 1992-12-09 7073 \
    FURNITURE  1992-12-09 1991-07-07 4083 \
    MACHINERY  1997-09-11 1991-03-08 4333 \
    BUILDING   1998-12-04 1997-11-08 8106 \
    MACHINERY  1994-11-11 1992-03-06 7574 \
    BUILDING   1991-06-27 1990-04-05 7477 \
    AUTOMOBILE 1992-08-30 1990-10-27 7711 \
    HOUSEHOLD  1995-04-20 1994-01-27 4701 \
    AUTOMOBILE 1994-06-25 1991-04-19 2102 \
    AUTOMOBILE 1991-04-22 1990-10-15 7948 \
    HOUSEHOLD  1996-06-05 1992-10-04 2085 \
    BUILDING   1991-07-08 1990-07-02 5018 \
    MACHINERY  1999-08-22 1998-01-22 473 \
    HOUSEHOLD  1998-09-06 1993-12-14 6407 \
    MACHINERY  1998-06-30 1996-08-18 5317 \
    HOUSEHOLD  1993-06-01 1991-12-15 1575 \
    MACHINERY  1991-03-13 1990-08-23 1625 \
    HOUSEHOLD  1999-04-17 1994-01-31 6107 \
    FURNITURE  1992-11-25 1991-01-15 9244 \
    FURNITURE  1996-11-27 1994-05-25 4118 \
    BUILDING   1995-10-25 1991-08-18 6497 \
    MACHINERY  1990-11-30 1990-01-16 6084 \
    FURNITURE  1995-05-12 1993-05-03 6075 \
    MACHINERY  1994-06-30 1991-06-26 9702 \
    BUILDING   1993-06-23 1992-07-04 654 \
    AUTOMOBILE 1994-02-24 1990-12-11 1657 \
    AUTOMOBILE 1996-10-01 1991-08-31 7529 \
    AUTOMOBILE 1990-10-26 1990-01-25 7512 \
    FURNITURE  1990-12-03 1990-02-07 7506 \
    HOUSEHOLD  1997-08-27 1993-11-20 8679 \
    MACHINERY  1990-11-15 1990-08-29 9191 \
    AUTOMOBILE 1999-03-21 1998-03-09 9073 \
    AUTOMOBILE 1992-09-10 1991-11-10 8435 \
    AUTOMOBILE 1999-12-13 1998-08-10 2434 \
    BUILDING   1997-05-30 1992-03-26 9052 \
    AUTOMOBILE 1996-10-28 1990-02-12 2062 \
    FURNITURE  1995-06-27 1991-04-27 6421 \
    AUTOMOBILE 1992-11-26 1990-09-13 9583 \
    HOUSEHOLD  1998-06-23 1995-01-23 8454 \
    BUILDING   1997-01-10 1991-11-26 768 \
    MACHINERY  1994-06-08 1991-12-23 8909 \
    AUTOMOBILE 1990-06-02 1990-05-01 5691 \
    HOUSEHOLD  1997-12-05 1990-03-15 2869 \
    FURNITURE  1994-05-28 1994-01-23 6867 \
    FURNITURE  1994-10-12 1990-10-10 3030 \
    HOUSEHOLD  1995-11-10 1990-12-11 8339 \
    BUILDING   1992-10-28 1990-05-06 432 \
    AUTOMOBILE 1995-10-02 1993-05-22 5894 \
    FURNITURE  1996-06-19 1992-12-07 2080 \
    HOUSEHOLD  1992-12-12 1990-04-26 546 \
    MACHINERY  1999-07-04 1992-12-08 2439 \
    FURNITURE  1993-01-07 1991-08-06 7903 \
    FURNITURE  1999-01-30 1994-09-25 1901 \
    MACHINERY  1991-06-17 1991-05-23 2913 \
    HOUSEHOLD  1999-04-24 1997-04-22 1204 \
    MACHINERY  1992-11-01 1991-04-17 2498 \
    \
    >"$(basename "$0").stdout"

if [ -z "$BDCI19_SKIP_DIFF" ]; then
    echo
    diff "$(basename "$0").stdout" "$(basename "$0").result"
fi

