#!/bin/bash

set -e

cd "$(dirname "$0")"

time taskset -c 0-15 ../run.sh \
    ../data/customer.txt ../data/orders.txt ../data/lineitem.txt \
    80 \
    FURNITURE  1990-04-03 1990-01-28 3552 \
    HOUSEHOLD  1999-06-10 1996-07-27 3712 \
    AUTOMOBILE 1990-03-31 1990-02-06 9969 \
    HOUSEHOLD  1998-09-02 1992-05-24 2327 \
    BUILDING   1995-10-19 1994-09-08 6247 \
    FURNITURE  1995-10-07 1992-01-14 1810 \
    BUILDING   1992-07-28 1991-12-18 882 \
    BUILDING   1992-08-01 1991-09-11 4554 \
    FURNITURE  1993-10-29 1992-06-22 2353 \
    FURNITURE  1996-05-21 1991-09-17 3803 \
    HOUSEHOLD  1992-02-21 1991-12-31 4319 \
    MACHINERY  1994-03-16 1991-11-23 8776 \
    FURNITURE  1990-01-27 1990-01-09 4771 \
    HOUSEHOLD  1990-04-18 1990-04-15 619 \
    AUTOMOBILE 1999-11-27 1993-06-13 2108 \
    HOUSEHOLD  1998-01-07 1993-08-22 9928 \
    BUILDING   1994-08-19 1994-05-29 4537 \
    AUTOMOBILE 1999-07-22 1992-01-29 5100 \
    MACHINERY  1999-09-05 1993-02-10 4423 \
    AUTOMOBILE 1996-10-19 1990-05-08 7128 \
    MACHINERY  1995-06-08 1993-11-30 4968 \
    FURNITURE  1995-06-04 1994-04-13 7144 \
    HOUSEHOLD  1991-05-24 1991-03-14 6623 \
    HOUSEHOLD  1993-08-17 1990-12-08 6213 \
    HOUSEHOLD  1999-04-08 1997-06-08 9047 \
    MACHINERY  1995-06-03 1993-11-17 8463 \
    MACHINERY  1998-10-27 1997-10-17 6508 \
    MACHINERY  1992-07-14 1991-01-07 6679 \
    MACHINERY  1998-11-15 1998-01-19 4254 \
    BUILDING   1998-03-13 1994-10-20 4918 \
    HOUSEHOLD  1999-10-20 1993-05-26 5661 \
    AUTOMOBILE 1995-09-30 1990-01-20 543 \
    FURNITURE  1995-11-29 1994-03-23 3674 \
    BUILDING   1999-03-30 1992-04-02 3381 \
    HOUSEHOLD  1990-09-03 1990-01-01 6606 \
    MACHINERY  1993-01-16 1992-03-24 1239 \
    HOUSEHOLD  1992-09-26 1992-04-05 2595 \
    AUTOMOBILE 1998-09-07 1993-01-23 2641 \
    FURNITURE  1994-05-15 1992-06-19 8121 \
    MACHINERY  1999-03-17 1997-01-27 3899 \
    BUILDING   1994-01-18 1993-08-04 1599 \
    AUTOMOBILE 1998-10-01 1995-01-14 6430 \
    HOUSEHOLD  1998-01-11 1996-10-07 1859 \
    MACHINERY  1991-05-26 1990-12-28 6046 \
    MACHINERY  1999-12-18 1991-07-09 7135 \
    FURNITURE  1990-10-28 1990-09-17 6773 \
    FURNITURE  1993-02-01 1990-07-14 4118 \
    AUTOMOBILE 1995-01-10 1993-03-13 2771 \
    AUTOMOBILE 1999-06-07 1993-07-03 6695 \
    AUTOMOBILE 1992-12-06 1992-07-04 9360 \
    HOUSEHOLD  1994-09-11 1993-12-06 6567 \
    HOUSEHOLD  1992-01-03 1990-11-14 2036 \
    HOUSEHOLD  1995-11-28 1995-04-17 4300 \
    MACHINERY  1997-01-02 1992-10-31 4570 \
    FURNITURE  1992-12-27 1992-07-02 4576 \
    MACHINERY  1993-08-21 1990-08-30 661 \
    FURNITURE  1998-12-30 1992-01-23 5617 \
    HOUSEHOLD  1992-01-20 1991-04-23 3284 \
    AUTOMOBILE 1998-10-05 1990-10-03 8432 \
    FURNITURE  1990-11-26 1990-08-06 7998 \
    AUTOMOBILE 1993-03-08 1991-08-24 6044 \
    BUILDING   1991-10-26 1990-02-15 1201 \
    HOUSEHOLD  1999-04-26 1998-02-13 2515 \
    MACHINERY  1995-05-26 1991-07-01 9573 \
    MACHINERY  1994-01-21 1993-06-25 7212 \
    HOUSEHOLD  1990-11-17 1990-02-23 3980 \
    FURNITURE  1993-01-07 1991-01-16 3472 \
    HOUSEHOLD  1993-01-16 1991-03-24 5825 \
    MACHINERY  1996-02-12 1995-09-14 9070 \
    HOUSEHOLD  1999-10-17 1995-09-28 1389 \
    FURNITURE  1995-08-22 1993-01-03 7955 \
    AUTOMOBILE 1995-09-26 1990-01-25 1047 \
    HOUSEHOLD  1999-04-29 1990-02-12 7796 \
    BUILDING   1992-12-01 1991-08-05 9858 \
    FURNITURE  1998-08-06 1991-08-20 926 \
    BUILDING   1996-02-07 1995-02-22 6307 \
    BUILDING   1992-11-25 1991-04-07 8337 \
    MACHINERY  1997-05-29 1992-04-26 7575 \
    MACHINERY  1998-02-20 1994-08-27 1812 \
    FURNITURE  1998-11-19 1993-01-15 6288 \
    \
    >"$(basename "$0").stdout"

if [ -z "$BDCI19_SKIP_DIFF" ]; then
    echo
    diff "$(basename "$0").stdout" "$(basename "$0").result"
fi

