#!/bin/bash

set -e

cd "$(dirname "$0")"

time taskset -c 0-15 ../run.sh \
    ../data/customer.txt ../data/orders.txt ../data/lineitem.txt \
    282 \
    AUTOMOBILE 1998-04-01 1990-12-26 86156 \
    HOUSEHOLD  1996-06-09 1993-08-01 27548 \
    AUTOMOBILE 1999-09-05 1990-03-16 50023 \
    BUILDING   1992-05-22 1991-05-24 49663 \
    HOUSEHOLD  1998-12-07 1997-03-17 92267 \
    FURNITURE  1994-11-04 1991-12-09 74050 \
    AUTOMOBILE 1999-09-14 1996-03-26 76264 \
    HOUSEHOLD  1999-08-28 1993-05-20 91106 \
    FURNITURE  1990-03-14 1990-03-05 34875 \
    FURNITURE  1998-11-04 1997-12-01 68548 \
    FURNITURE  1992-07-10 1990-02-01 78756 \
    BUILDING   1995-09-09 1993-09-12 38375 \
    HOUSEHOLD  1991-02-08 1990-10-11 97942 \
    HOUSEHOLD  1999-04-08 1997-01-02 12743 \
    HOUSEHOLD  1990-06-25 1990-02-27 84414 \
    MACHINERY  1990-10-21 1990-06-21 31628 \
    HOUSEHOLD  1992-04-26 1990-12-17 60091 \
    AUTOMOBILE 1990-11-06 1990-04-19 53205 \
    AUTOMOBILE 1993-08-26 1991-01-24 45235 \
    BUILDING   1999-08-12 1991-04-23 53507 \
    AUTOMOBILE 1997-01-25 1992-03-07 51053 \
    HOUSEHOLD  1996-01-02 1991-02-05 78743 \
    BUILDING   1994-03-16 1991-06-27 54381 \
    BUILDING   1993-01-27 1990-12-07 52208 \
    HOUSEHOLD  1995-11-20 1992-12-09 28887 \
    FURNITURE  1991-01-09 1990-11-27 24198 \
    AUTOMOBILE 1993-03-28 1991-11-23 35388 \
    BUILDING   1994-12-07 1993-05-29 93343 \
    HOUSEHOLD  1993-07-08 1990-04-03 88057 \
    AUTOMOBILE 1994-04-04 1994-04-03 25777 \
    HOUSEHOLD  1992-07-10 1991-08-12 93074 \
    AUTOMOBILE 1990-08-23 1990-04-10 19725 \
    HOUSEHOLD  1990-05-20 1990-04-14 48382 \
    FURNITURE  1991-11-25 1991-08-25 99758 \
    BUILDING   1997-05-20 1995-09-09 42380 \
    HOUSEHOLD  1996-09-18 1993-11-05 88742 \
    BUILDING   1998-06-28 1993-07-16 23230 \
    FURNITURE  1995-04-13 1993-09-01 56224 \
    MACHINERY  1996-04-16 1993-01-28 24140 \
    BUILDING   1999-09-30 1997-11-12 26624 \
    FURNITURE  1996-04-10 1995-09-05 41600 \
    MACHINERY  1996-06-16 1994-05-17 94362 \
    HOUSEHOLD  1998-02-13 1991-01-05 51924 \
    MACHINERY  1995-02-24 1992-08-29 21509 \
    HOUSEHOLD  1996-09-10 1994-05-11 17482 \
    AUTOMOBILE 1992-08-28 1991-07-08 43728 \
    BUILDING   1995-07-20 1990-06-17 86511 \
    FURNITURE  1996-03-29 1995-01-28 22915 \
    HOUSEHOLD  1997-11-15 1995-01-05 30706 \
    HOUSEHOLD  1995-04-26 1992-06-23 51138 \
    AUTOMOBILE 1997-09-02 1995-09-30 25412 \
    MACHINERY  1996-06-23 1993-11-29 21423 \
    BUILDING   1993-07-06 1990-05-12 93289 \
    MACHINERY  1999-01-22 1996-07-19 99249 \
    AUTOMOBILE 1991-09-05 1991-03-31 94365 \
    HOUSEHOLD  1993-01-24 1990-06-09 74534 \
    HOUSEHOLD  1992-09-27 1992-08-22 11042 \
    BUILDING   1998-03-16 1992-01-07 89762 \
    BUILDING   1999-01-31 1993-07-14 40043 \
    MACHINERY  1999-07-22 1999-01-01 46564 \
    HOUSEHOLD  1990-11-05 1990-03-26 52032 \
    MACHINERY  1997-08-26 1991-09-24 69400 \
    BUILDING   1994-09-25 1990-03-23 84102 \
    AUTOMOBILE 1997-03-16 1996-01-10 75995 \
    MACHINERY  1990-03-23 1990-01-09 14023 \
    MACHINERY  1993-09-18 1993-01-01 38600 \
    HOUSEHOLD  1993-09-24 1993-02-14 44791 \
    MACHINERY  1996-06-24 1992-12-08 44364 \
    BUILDING   1992-12-01 1991-06-08 70910 \
    BUILDING   1998-06-11 1996-01-04 22639 \
    FURNITURE  1997-02-07 1991-08-09 55539 \
    BUILDING   1991-12-30 1990-12-25 31113 \
    BUILDING   1991-04-07 1991-04-06 66653 \
    AUTOMOBILE 1991-06-17 1990-10-22 89846 \
    FURNITURE  1999-07-04 1992-09-17 43872 \
    BUILDING   1996-03-22 1993-10-14 50974 \
    MACHINERY  1997-11-07 1995-06-30 20095 \
    MACHINERY  1990-07-07 1990-02-20 66263 \
    FURNITURE  1993-08-30 1993-06-09 97777 \
    HOUSEHOLD  1994-06-04 1990-02-14 43637 \
    AUTOMOBILE 1992-01-18 1991-01-08 89226 \
    HOUSEHOLD  1999-12-05 1998-03-15 65444 \
    MACHINERY  1992-06-18 1990-10-18 16638 \
    FURNITURE  1993-01-29 1991-05-18 44032 \
    BUILDING   1992-07-07 1990-09-25 74592 \
    BUILDING   1998-05-17 1996-09-28 68048 \
    BUILDING   1996-09-11 1995-03-21 18186 \
    FURNITURE  1995-08-21 1993-01-25 48503 \
    FURNITURE  1992-06-01 1991-11-12 91961 \
    BUILDING   1999-09-22 1991-05-23 27269 \
    AUTOMOBILE 1998-07-28 1990-02-02 82018 \
    BUILDING   1997-06-04 1990-02-17 61371 \
    HOUSEHOLD  1999-09-03 1995-02-16 65437 \
    HOUSEHOLD  1996-08-08 1990-11-12 77493 \
    BUILDING   1999-10-17 1996-05-31 25805 \
    HOUSEHOLD  1990-07-09 1990-03-13 63624 \
    AUTOMOBILE 1998-08-16 1992-12-11 99054 \
    BUILDING   1990-11-20 1990-01-02 36370 \
    BUILDING   1999-09-10 1998-05-21 55058 \
    BUILDING   1995-05-16 1993-09-24 86035 \
    FURNITURE  1996-05-22 1994-12-18 39066 \
    MACHINERY  1992-03-17 1990-12-01 76429 \
    HOUSEHOLD  1995-04-08 1991-08-10 97235 \
    HOUSEHOLD  1992-08-07 1992-07-25 63977 \
    AUTOMOBILE 1999-02-23 1997-10-14 40613 \
    HOUSEHOLD  1993-02-23 1991-09-08 15782 \
    FURNITURE  1990-12-06 1990-07-31 48502 \
    FURNITURE  1990-06-08 1990-01-18 39259 \
    BUILDING   1991-02-15 1990-04-25 90302 \
    HOUSEHOLD  1995-05-24 1992-09-07 59775 \
    FURNITURE  1999-03-31 1993-07-15 70930 \
    AUTOMOBILE 1997-04-23 1990-06-24 53624 \
    FURNITURE  1990-07-24 1990-01-29 18351 \
    BUILDING   1998-03-23 1992-11-01 38207 \
    AUTOMOBILE 1995-05-05 1995-01-25 31048 \
    AUTOMOBILE 1994-03-10 1991-09-02 24667 \
    AUTOMOBILE 1996-09-26 1992-11-23 64781 \
    HOUSEHOLD  1991-06-24 1991-03-31 53161 \
    HOUSEHOLD  1993-01-04 1992-04-09 46314 \
    HOUSEHOLD  1997-03-09 1996-04-15 92584 \
    HOUSEHOLD  1990-05-14 1990-01-01 58421 \
    HOUSEHOLD  1992-02-13 1990-07-04 55048 \
    FURNITURE  1991-08-24 1991-06-06 76650 \
    AUTOMOBILE 1990-04-08 1990-02-04 17428 \
    HOUSEHOLD  1997-03-15 1992-09-04 94484 \
    MACHINERY  1998-07-14 1998-07-04 32466 \
    AUTOMOBILE 1992-12-25 1991-06-13 28258 \
    FURNITURE  1990-08-12 1990-06-04 83191 \
    BUILDING   1992-05-24 1990-09-16 24647 \
    BUILDING   1996-02-09 1990-12-12 17282 \
    HOUSEHOLD  1991-11-10 1990-08-04 82649 \
    AUTOMOBILE 1996-10-07 1991-08-19 31987 \
    HOUSEHOLD  1995-02-15 1992-12-31 31656 \
    FURNITURE  1998-12-05 1991-09-04 51253 \
    HOUSEHOLD  1996-03-05 1991-12-07 63007 \
    HOUSEHOLD  1998-02-28 1991-08-25 22498 \
    FURNITURE  1990-03-08 1990-01-05 55794 \
    AUTOMOBILE 1992-05-10 1992-02-24 19122 \
    HOUSEHOLD  1997-08-06 1990-07-10 50996 \
    BUILDING   1998-03-08 1996-09-06 83006 \
    BUILDING   1999-12-07 1991-07-01 89181 \
    AUTOMOBILE 1990-09-07 1990-06-17 98978 \
    MACHINERY  1992-08-14 1991-08-19 68998 \
    HOUSEHOLD  1997-05-22 1993-01-10 53720 \
    HOUSEHOLD  1995-12-30 1990-10-21 16595 \
    HOUSEHOLD  1996-02-06 1993-06-17 67780 \
    HOUSEHOLD  1997-02-15 1991-09-30 92305 \
    FURNITURE  1994-02-03 1993-02-06 56085 \
    HOUSEHOLD  1997-04-27 1997-01-24 91759 \
    MACHINERY  1993-05-07 1992-05-17 62451 \
    AUTOMOBILE 1994-02-20 1992-07-28 42689 \
    AUTOMOBILE 1998-12-01 1995-04-29 60537 \
    MACHINERY  1999-07-05 1992-06-08 62383 \
    AUTOMOBILE 1992-05-19 1992-05-03 72463 \
    AUTOMOBILE 1999-07-10 1990-08-07 36860 \
    FURNITURE  1994-05-13 1994-03-12 56538 \
    AUTOMOBILE 1991-09-06 1990-11-14 31428 \
    AUTOMOBILE 1991-03-19 1990-11-24 35143 \
    FURNITURE  1991-04-09 1990-05-27 49759 \
    AUTOMOBILE 1992-06-06 1990-03-22 40793 \
    FURNITURE  1996-07-22 1990-10-20 63044 \
    FURNITURE  1992-02-17 1991-04-21 30143 \
    AUTOMOBILE 1998-06-26 1996-10-18 53899 \
    MACHINERY  1997-09-12 1994-02-13 64919 \
    FURNITURE  1992-02-12 1990-02-12 13168 \
    MACHINERY  1992-05-16 1990-11-15 69939 \
    HOUSEHOLD  1992-03-25 1991-12-24 27420 \
    AUTOMOBILE 1992-04-26 1991-12-19 67283 \
    HOUSEHOLD  1992-07-14 1990-11-22 32002 \
    HOUSEHOLD  1994-11-27 1991-04-10 80750 \
    FURNITURE  1998-12-31 1998-04-30 15709 \
    MACHINERY  1999-05-02 1999-02-25 70946 \
    HOUSEHOLD  1991-01-18 1990-06-13 65014 \
    MACHINERY  1992-06-06 1990-03-14 97640 \
    MACHINERY  1995-01-13 1990-02-09 19754 \
    HOUSEHOLD  1997-05-02 1995-03-24 15861 \
    FURNITURE  1990-12-26 1990-04-03 93558 \
    HOUSEHOLD  1990-08-28 1990-04-18 35712 \
    HOUSEHOLD  1998-07-04 1991-03-26 56587 \
    MACHINERY  1990-10-07 1990-06-20 46073 \
    MACHINERY  1998-03-27 1997-05-27 21779 \
    FURNITURE  1990-01-29 1990-01-03 53673 \
    MACHINERY  1999-11-29 1998-04-05 49569 \
    BUILDING   1995-04-07 1990-11-19 64160 \
    MACHINERY  1996-04-30 1995-09-12 29450 \
    HOUSEHOLD  1994-07-10 1992-10-09 44321 \
    FURNITURE  1998-10-11 1997-08-15 81390 \
    AUTOMOBILE 1998-01-25 1994-03-13 96648 \
    AUTOMOBILE 1997-07-24 1992-08-21 97759 \
    MACHINERY  1997-01-21 1990-06-08 38764 \
    FURNITURE  1998-11-24 1997-12-22 88185 \
    BUILDING   1994-03-31 1990-03-29 27184 \
    MACHINERY  1991-09-25 1990-04-02 80727 \
    HOUSEHOLD  1997-12-01 1995-05-17 73757 \
    FURNITURE  1996-08-08 1995-07-01 26259 \
    HOUSEHOLD  1996-08-25 1995-11-29 97037 \
    AUTOMOBILE 1999-10-22 1994-04-25 33092 \
    BUILDING   1995-08-28 1993-10-22 85288 \
    HOUSEHOLD  1997-04-19 1997-01-22 69516 \
    MACHINERY  1994-01-24 1991-12-26 13029 \
    MACHINERY  1999-04-25 1997-03-26 89239 \
    AUTOMOBILE 1998-08-17 1992-08-27 76220 \
    MACHINERY  1994-05-17 1990-03-29 57687 \
    BUILDING   1995-04-20 1994-11-26 94727 \
    AUTOMOBILE 1994-12-03 1992-08-03 95406 \
    MACHINERY  1995-06-18 1990-02-17 28813 \
    HOUSEHOLD  1991-03-05 1990-05-29 22799 \
    AUTOMOBILE 1993-03-10 1990-09-17 33262 \
    BUILDING   1996-01-26 1994-01-03 99132 \
    BUILDING   1998-12-29 1994-07-08 93572 \
    FURNITURE  1999-11-12 1995-12-03 69387 \
    AUTOMOBILE 1994-02-21 1991-04-23 90004 \
    FURNITURE  1990-05-07 1990-01-11 71208 \
    FURNITURE  1994-07-05 1994-04-18 18501 \
    AUTOMOBILE 1997-04-22 1996-02-14 50849 \
    MACHINERY  1998-05-07 1990-04-10 53368 \
    BUILDING   1998-02-01 1996-08-03 52207 \
    BUILDING   1995-11-16 1990-10-09 19381 \
    MACHINERY  1995-06-15 1990-12-14 24486 \
    FURNITURE  1997-01-08 1993-04-16 18992 \
    MACHINERY  1996-07-07 1994-06-18 18755 \
    AUTOMOBILE 1999-10-11 1995-02-21 64415 \
    BUILDING   1990-04-03 1990-02-09 71029 \
    AUTOMOBILE 1998-10-04 1997-09-24 86641 \
    MACHINERY  1999-06-12 1998-05-01 27302 \
    HOUSEHOLD  1998-11-08 1997-11-10 84736 \
    HOUSEHOLD  1990-10-10 1990-07-01 85295 \
    MACHINERY  1995-03-08 1990-06-07 73097 \
    HOUSEHOLD  1994-11-06 1994-03-09 15165 \
    MACHINERY  1994-07-23 1990-05-16 83226 \
    MACHINERY  1991-02-22 1990-09-07 53459 \
    HOUSEHOLD  1991-01-31 1990-02-08 13447 \
    AUTOMOBILE 1996-08-04 1995-07-05 58173 \
    FURNITURE  1993-12-20 1993-01-05 40728 \
    FURNITURE  1994-11-08 1992-03-05 65382 \
    FURNITURE  1994-05-30 1991-05-18 67802 \
    MACHINERY  1990-10-15 1990-06-12 20907 \
    FURNITURE  1993-01-24 1991-11-19 77794 \
    AUTOMOBILE 1997-12-20 1990-07-07 47851 \
    AUTOMOBILE 1999-09-01 1994-10-12 82417 \
    HOUSEHOLD  1992-11-28 1992-11-09 92016 \
    AUTOMOBILE 1996-11-19 1994-03-15 51446 \
    MACHINERY  1990-09-16 1990-07-24 25829 \
    BUILDING   1998-08-05 1994-10-26 69326 \
    BUILDING   1999-01-07 1998-04-16 15227 \
    BUILDING   1992-02-22 1991-03-24 69835 \
    BUILDING   1993-10-23 1992-04-10 12990 \
    FURNITURE  1991-09-14 1990-06-26 23456 \
    BUILDING   1995-09-30 1994-06-24 77921 \
    HOUSEHOLD  1999-02-10 1992-10-03 34792 \
    FURNITURE  1998-07-12 1992-01-15 82556 \
    AUTOMOBILE 1991-10-27 1991-08-28 27850 \
    FURNITURE  1991-05-15 1990-08-28 90591 \
    MACHINERY  1998-04-04 1992-10-02 48322 \
    AUTOMOBILE 1991-12-02 1991-09-22 43006 \
    FURNITURE  1994-10-04 1993-09-28 11955 \
    AUTOMOBILE 1997-05-27 1994-10-01 89830 \
    FURNITURE  1992-10-17 1991-01-03 91601 \
    FURNITURE  1999-08-10 1993-01-02 61318 \
    BUILDING   1990-04-23 1990-04-10 34656 \
    MACHINERY  1991-09-13 1990-02-01 22031 \
    AUTOMOBILE 1996-10-17 1996-05-07 25300 \
    MACHINERY  1990-12-01 1990-11-03 44898 \
    FURNITURE  1996-08-08 1994-11-03 33853 \
    AUTOMOBILE 1999-04-18 1991-04-12 81708 \
    AUTOMOBILE 1994-05-06 1992-11-19 83134 \
    FURNITURE  1998-08-09 1998-05-06 51498 \
    AUTOMOBILE 1997-10-01 1995-08-04 57633 \
    AUTOMOBILE 1993-07-26 1991-10-04 36862 \
    HOUSEHOLD  1998-03-12 1990-11-12 77448 \
    AUTOMOBILE 1998-12-29 1998-04-09 82489 \
    BUILDING   1992-07-14 1991-01-20 36270 \
    MACHINERY  1999-01-01 1991-07-09 34930 \
    FURNITURE  1999-09-09 1994-04-19 70558 \
    FURNITURE  1999-10-04 1994-07-15 24636 \
    AUTOMOBILE 1995-11-25 1990-10-07 82885 \
    AUTOMOBILE 1992-12-01 1992-11-16 35307 \
    HOUSEHOLD  1994-07-22 1991-04-18 70273 \
    AUTOMOBILE 1999-07-16 1998-03-14 52528 \
    MACHINERY  1992-09-02 1990-12-25 31222 \
    AUTOMOBILE 1997-09-19 1996-07-04 89613 \
    FURNITURE  1999-08-26 1997-02-12 24797 \
    \
    >"$(basename "$0").stdout"

if [ -z "$BDCI19_SKIP_DIFF" ]; then
    echo
    diff "$(basename "$0").stdout" "$(basename "$0").result"
fi

