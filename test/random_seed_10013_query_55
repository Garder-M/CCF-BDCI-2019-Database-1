#!/bin/bash

set -e

cd "$(dirname "$0")"

time taskset -c 0-15 ../run.sh \
    ../data/customer.txt ../data/orders.txt ../data/lineitem.txt \
    55 \
    HOUSEHOLD  1991-01-26 1990-05-31 9659 \
    FURNITURE  1993-12-19 1993-09-12 7579 \
    FURNITURE  1993-01-20 1991-11-04 3261 \
    FURNITURE  1994-01-26 1992-05-05 5400 \
    FURNITURE  1995-06-16 1990-07-23 2369 \
    AUTOMOBILE 1996-03-26 1993-09-12 5093 \
    HOUSEHOLD  1994-04-13 1990-09-27 2567 \
    AUTOMOBILE 1999-08-03 1992-11-08 7046 \
    MACHINERY  1997-04-22 1993-10-13 2731 \
    AUTOMOBILE 1998-07-07 1992-02-24 5963 \
    AUTOMOBILE 1990-04-29 1990-01-10 7726 \
    BUILDING   1994-03-14 1990-05-07 6415 \
    BUILDING   1995-04-25 1990-08-09 5826 \
    MACHINERY  1993-10-26 1993-07-13 9863 \
    AUTOMOBILE 1997-08-16 1993-03-16 5209 \
    HOUSEHOLD  1994-07-19 1992-08-24 1146 \
    FURNITURE  1995-05-23 1994-08-31 8588 \
    FURNITURE  1990-02-25 1990-02-09 6233 \
    HOUSEHOLD  1996-06-15 1990-11-11 7001 \
    AUTOMOBILE 1994-12-26 1994-05-05 3162 \
    AUTOMOBILE 1997-08-11 1994-08-04 745 \
    HOUSEHOLD  1994-04-28 1993-11-18 8480 \
    HOUSEHOLD  1993-05-28 1993-03-01 4040 \
    AUTOMOBILE 1998-01-20 1992-08-12 770 \
    MACHINERY  1994-02-02 1993-03-03 6700 \
    MACHINERY  1992-07-20 1990-08-18 3861 \
    FURNITURE  1998-03-30 1991-05-16 7432 \
    MACHINERY  1990-01-14 1990-01-05 7811 \
    MACHINERY  1999-11-09 1992-02-10 9044 \
    MACHINERY  1995-10-31 1990-02-05 779 \
    MACHINERY  1993-05-31 1990-10-29 3721 \
    MACHINERY  1993-08-25 1993-06-22 9843 \
    MACHINERY  1999-04-01 1991-09-25 9525 \
    FURNITURE  1991-12-19 1990-02-19 1366 \
    BUILDING   1993-06-24 1993-01-18 7955 \
    MACHINERY  1999-05-29 1997-08-31 6016 \
    AUTOMOBILE 1992-11-20 1992-03-26 3861 \
    AUTOMOBILE 1993-02-13 1990-02-18 295 \
    BUILDING   1999-08-11 1990-06-05 7551 \
    FURNITURE  1995-10-01 1992-09-01 6900 \
    AUTOMOBILE 1992-08-30 1990-03-31 1820 \
    FURNITURE  1996-01-10 1992-04-29 863 \
    AUTOMOBILE 1999-12-14 1991-12-15 4776 \
    HOUSEHOLD  1992-01-10 1991-02-18 9530 \
    MACHINERY  1991-11-26 1990-07-15 8616 \
    BUILDING   1998-03-09 1994-06-15 3605 \
    HOUSEHOLD  1995-05-13 1992-10-23 3817 \
    BUILDING   1994-04-12 1993-03-01 2975 \
    AUTOMOBILE 1995-10-03 1991-10-12 1146 \
    HOUSEHOLD  1994-09-12 1993-03-19 3188 \
    BUILDING   1991-12-08 1991-10-29 9098 \
    FURNITURE  1991-04-08 1990-04-09 3527 \
    AUTOMOBILE 1990-08-14 1990-03-03 4545 \
    MACHINERY  1994-08-16 1994-03-15 6206 \
    MACHINERY  1991-09-11 1990-05-10 8229 \
    \
    >"$(basename "$0").stdout"

if [ -z "$BDCI19_SKIP_DIFF" ]; then
    echo
    diff "$(basename "$0").stdout" "$(basename "$0").result"
fi

