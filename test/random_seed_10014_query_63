#!/bin/bash

set -e

cd "$(dirname "$0")"

time taskset -c 0-15 ../run.sh \
    ../data/customer.txt ../data/orders.txt ../data/lineitem.txt \
    63 \
    BUILDING   1995-07-14 1995-05-31 3904 \
    HOUSEHOLD  1995-07-30 1990-05-18 8456 \
    BUILDING   1997-08-18 1995-08-31 2651 \
    FURNITURE  1998-02-14 1991-12-03 4524 \
    FURNITURE  1994-01-31 1990-08-06 2057 \
    FURNITURE  1992-12-31 1992-06-23 733 \
    BUILDING   1998-09-10 1994-11-26 7176 \
    HOUSEHOLD  1997-07-14 1991-09-13 7137 \
    FURNITURE  1997-09-03 1993-06-21 9966 \
    FURNITURE  1992-01-11 1990-07-28 5598 \
    FURNITURE  1998-10-20 1996-04-04 5772 \
    HOUSEHOLD  1998-12-28 1990-06-10 7648 \
    FURNITURE  1991-07-30 1990-07-08 9954 \
    FURNITURE  1990-12-23 1990-01-03 7048 \
    BUILDING   1997-12-31 1996-09-26 5828 \
    BUILDING   1998-06-25 1991-03-29 4469 \
    HOUSEHOLD  1991-08-10 1990-08-30 6714 \
    FURNITURE  1999-06-07 1997-07-23 4873 \
    FURNITURE  1998-11-18 1994-02-16 3591 \
    AUTOMOBILE 1990-04-09 1990-03-16 774 \
    FURNITURE  1998-09-24 1991-04-22 4005 \
    FURNITURE  1997-09-18 1994-09-27 1933 \
    MACHINERY  1993-08-05 1992-09-23 7011 \
    HOUSEHOLD  1995-05-01 1994-04-20 4001 \
    HOUSEHOLD  1996-11-21 1994-05-24 1554 \
    BUILDING   1997-03-05 1991-10-28 6528 \
    MACHINERY  1991-05-29 1990-07-31 2689 \
    AUTOMOBILE 1996-02-17 1993-03-03 8491 \
    BUILDING   1996-05-09 1993-11-06 6680 \
    BUILDING   1994-05-07 1994-04-12 4860 \
    MACHINERY  1994-12-08 1990-09-19 8203 \
    AUTOMOBILE 1993-08-09 1990-07-18 6963 \
    HOUSEHOLD  1993-09-28 1991-01-29 7928 \
    HOUSEHOLD  1995-09-27 1990-10-30 2103 \
    BUILDING   1995-05-05 1991-07-25 1996 \
    MACHINERY  1995-08-20 1990-03-19 6804 \
    AUTOMOBILE 1993-12-31 1991-11-05 3621 \
    AUTOMOBILE 1995-09-05 1990-09-20 9972 \
    AUTOMOBILE 1998-04-28 1991-09-22 7822 \
    MACHINERY  1995-07-13 1990-02-26 8481 \
    BUILDING   1995-11-23 1991-07-14 8478 \
    FURNITURE  1994-12-30 1990-01-30 762 \
    MACHINERY  1991-11-15 1991-05-10 1024 \
    BUILDING   1999-06-26 1997-05-30 1649 \
    HOUSEHOLD  1990-07-17 1990-05-12 8005 \
    MACHINERY  1994-09-09 1991-05-24 4561 \
    MACHINERY  1990-05-01 1990-04-18 381 \
    BUILDING   1993-10-12 1991-01-12 7238 \
    BUILDING   1990-02-05 1990-01-10 9995 \
    BUILDING   1992-02-29 1991-06-11 5656 \
    HOUSEHOLD  1991-07-17 1990-01-23 9153 \
    FURNITURE  1990-03-13 1990-01-22 3656 \
    HOUSEHOLD  1994-06-29 1992-09-07 5062 \
    FURNITURE  1991-12-25 1990-07-11 3777 \
    AUTOMOBILE 1996-03-03 1995-07-15 9178 \
    HOUSEHOLD  1995-04-05 1990-04-07 7941 \
    AUTOMOBILE 1997-06-20 1997-04-16 9268 \
    AUTOMOBILE 1992-12-13 1991-05-04 3435 \
    FURNITURE  1994-04-12 1991-09-25 5638 \
    BUILDING   1993-04-25 1990-09-14 7757 \
    FURNITURE  1996-01-19 1995-08-25 6874 \
    MACHINERY  1999-10-05 1992-11-17 9937 \
    BUILDING   1996-08-12 1992-09-06 2596 \
    \
    >"$(basename "$0").stdout"

if [ -z "$BDCI19_SKIP_DIFF" ]; then
    echo
    diff "$(basename "$0").stdout" "$(basename "$0").result"
fi

